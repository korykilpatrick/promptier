@import url("https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=IBM+Plex+Mono:wght@400;500&display=swap");

@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  :host(plasmo-csui) {
    font-family: "Inter", sans-serif;
    font-size: 16px;
    line-height: 1.5;
    color: #1F2937; /* Better contrast for accessibility */
    scroll-behavior: smooth;
  }
  
  /* Better typography scale */
  h1 {
    @apply plasmo-text-2xl plasmo-font-semibold plasmo-text-gray-900 plasmo-leading-tight;
  }
  
  h2 {
    @apply plasmo-text-xl plasmo-font-semibold plasmo-text-gray-800 plasmo-leading-tight;
  }
  
  h3 {
    @apply plasmo-text-lg plasmo-font-medium plasmo-text-gray-800 plasmo-leading-snug;
  }
  
  h4, h5, h6 {
    @apply plasmo-text-base plasmo-font-medium plasmo-text-gray-800 plasmo-leading-snug;
  }
  
  p {
    @apply plasmo-text-sm plasmo-font-normal plasmo-text-gray-700 plasmo-leading-relaxed;
  }

  /* Smoother focus outline for accessibility */
  :focus {
    @apply plasmo-outline-none plasmo-ring-2 plasmo-ring-primary-400 plasmo-ring-opacity-50;
  }

  /* Standardize colors for accessibility */
  a {
    @apply plasmo-text-primary-600 hover:plasmo-text-primary-700 plasmo-transition-colors;
  }
}

@layer components {
  /* Button variants */
  .plasmo-btn-primary {
    @apply plasmo-bg-primary-600 plasmo-text-white plasmo-px-4 plasmo-py-2
           plasmo-rounded-md plasmo-font-medium plasmo-text-sm plasmo-shadow
           plasmo-transition-all plasmo-duration-200
           hover:plasmo-bg-primary-700 hover:plasmo-shadow-md
           focus:plasmo-outline-none focus:plasmo-ring-2 focus:plasmo-ring-primary-500 focus:plasmo-ring-opacity-50
           active:plasmo-bg-primary-800 active:plasmo-scale-[0.98] active:plasmo-shadow-sm
           disabled:plasmo-opacity-50 disabled:plasmo-cursor-not-allowed disabled:plasmo-bg-primary-300;
  }

  .plasmo-btn-secondary {
    @apply plasmo-bg-white plasmo-text-gray-700 plasmo-px-4 plasmo-py-2
           plasmo-rounded-md plasmo-font-medium plasmo-text-sm
           plasmo-border plasmo-border-gray-300 plasmo-shadow-sm
           plasmo-transition-all plasmo-duration-200
           hover:plasmo-bg-gray-50 hover:plasmo-border-gray-400
           focus:plasmo-outline-none focus:plasmo-ring-2 focus:plasmo-ring-primary-500 focus:plasmo-ring-opacity-50
           active:plasmo-bg-gray-100 active:plasmo-scale-[0.98]
           disabled:plasmo-opacity-50 disabled:plasmo-cursor-not-allowed;
  }

  .plasmo-btn-ghost {
    @apply plasmo-bg-transparent plasmo-text-gray-600 plasmo-px-3 plasmo-py-1.5
           plasmo-rounded-md plasmo-font-medium plasmo-text-sm
           plasmo-transition-all plasmo-duration-200
           hover:plasmo-bg-gray-100 hover:plasmo-text-gray-800
           focus:plasmo-outline-none focus:plasmo-ring-2 focus:plasmo-ring-primary-500 focus:plasmo-ring-opacity-50
           active:plasmo-bg-gray-200 active:plasmo-scale-[0.98];
  }

  /* Updated section header with better visual hierarchy */
  .plasmo-section-header {
    @apply plasmo-flex plasmo-justify-between plasmo-items-center
           plasmo-py-3 plasmo-px-4 plasmo-cursor-pointer
           plasmo-border-b plasmo-border-gray-200
           plasmo-transition-colors plasmo-duration-150
           hover:plasmo-bg-gray-50;
  }

  /* Main sidebar container */
  .plasmo-sidebar {
    @apply plasmo-h-full plasmo-bg-gray-50 plasmo-flex plasmo-flex-col
           plasmo-shadow-md plasmo-rounded-lg plasmo-overflow-hidden;
  }
  
  /* Card styles */
  .plasmo-card {
    @apply plasmo-bg-white plasmo-rounded-lg plasmo-border plasmo-border-gray-200
           plasmo-shadow-card plasmo-p-4 plasmo-transition-all plasmo-duration-200
           hover:plasmo-shadow-card-hover hover:plasmo-border-gray-300;
  }

  /* Template item styles */
  .plasmo-template-item {
    @apply plasmo-card plasmo-mb-4 plasmo-cursor-pointer
           hover:plasmo-border-primary-200;
  }
  
  .plasmo-template-item-selected {
    @apply plasmo-border-primary-400 plasmo-ring-2 plasmo-ring-primary-100;
  }
  
  /* Typography classes */
  .plasmo-text-heading {
    @apply plasmo-text-xl plasmo-leading-tight plasmo-font-semibold plasmo-text-gray-900;
  }
  
  .plasmo-text-subheading {
    @apply plasmo-text-base plasmo-leading-snug plasmo-font-medium plasmo-text-gray-800;
  }
  
  .plasmo-text-body {
    @apply plasmo-text-sm plasmo-leading-relaxed plasmo-text-gray-700;
  }
  
  .plasmo-text-caption {
    @apply plasmo-text-xs plasmo-leading-normal plasmo-text-gray-500;
  }
  
  .plasmo-template-name {
    @apply plasmo-text-base plasmo-leading-snug plasmo-font-medium plasmo-text-gray-800
           plasmo-truncate;
  }
  
  .plasmo-template-description {
    @apply plasmo-text-sm plasmo-text-gray-600 plasmo-break-words plasmo-line-clamp-2
           plasmo-leading-relaxed plasmo-mt-1;
  }

  /* Badge/chip styles */
  .plasmo-badge {
    @apply plasmo-inline-flex plasmo-items-center plasmo-px-2 plasmo-py-0.5
           plasmo-rounded-full plasmo-text-xs plasmo-font-medium;
  }

  .plasmo-badge-blue {
    @apply plasmo-bg-primary-100 plasmo-text-primary-800;
  }

  .plasmo-badge-green {
    @apply plasmo-bg-success-50 plasmo-text-success-700;
  }

  .plasmo-badge-amber {
    @apply plasmo-bg-accent-100 plasmo-text-accent-800;
  }

  .plasmo-badge-gray {
    @apply plasmo-bg-gray-100 plasmo-text-gray-800;
  }

  /* Form elements */
  .plasmo-input {
    @apply plasmo-w-full plasmo-px-3 plasmo-py-2 plasmo-bg-white
           plasmo-border plasmo-border-gray-300 plasmo-rounded-md plasmo-shadow-sm
           plasmo-text-sm plasmo-text-gray-900
           plasmo-transition-colors plasmo-duration-150
           focus:plasmo-border-primary-500 focus:plasmo-ring-2 focus:plasmo-ring-primary-200
           disabled:plasmo-bg-gray-100 disabled:plasmo-text-gray-500;
  }

  .plasmo-textarea {
    @apply plasmo-input plasmo-resize-y;
  }

  .plasmo-label {
    @apply plasmo-block plasmo-text-sm plasmo-font-medium plasmo-text-gray-700 plasmo-mb-1;
  }

  /* Action button styles */
  .plasmo-action-btn {
    @apply plasmo-p-1.5 plasmo-rounded-full
           plasmo-text-gray-400
           plasmo-transition-colors plasmo-duration-150;
    
    &:hover {
      color: theme('colors.gray.700');
      background-color: theme('colors.gray.100');
    }
    
    &:focus {
      outline: none;
      box-shadow: 0 0 0 2px theme('colors.primary.500 / 30%');
    }
  }

  .plasmo-action-btn-danger {
    composes: plasmo-action-btn;
    color: theme('colors.error.500');
    
    &:hover {
      color: theme('colors.error.700');
      background-color: theme('colors.error.50');
    }
    
    &:focus {
      outline: none;
      box-shadow: 0 0 0 2px theme('colors.error.500 / 30%');
    }
  }

  .plasmo-action-btn-favorite {
    composes: plasmo-action-btn;
    color: theme('colors.accent.400');
    
    &:hover {
      color: theme('colors.accent.500');
      background-color: theme('colors.accent.50');
    }
    
    &:focus {
      outline: none;
      box-shadow: 0 0 0 2px theme('colors.accent.400 / 30%');
    }
  }

  .plasmo-action-btn-favorite-active {
    @apply plasmo-text-accent-500 hover:plasmo-text-accent-600;
  }

  /* Custom empty state */
  .plasmo-empty-state {
    @apply plasmo-flex plasmo-flex-col plasmo-items-center plasmo-justify-center
           plasmo-p-8 plasmo-text-center plasmo-bg-gray-50
           plasmo-rounded-lg plasmo-border plasmo-border-gray-200;
  }
}

@layer utilities {
  /* Animation utilities */
  .plasmo-animate-slide-down {
    animation: slide-down 0.3s ease-out forwards;
  }

  .plasmo-animate-slide-up {
    animation: slide-up 0.3s ease-out forwards;
  }

  .plasmo-animate-fade-in {
    animation: fade-in 0.3s ease-out forwards;
  }

  .plasmo-animate-scale-in {
    animation: scale-in 0.2s ease-out forwards;
  }
  
  /* Text utilities */
  .plasmo-line-clamp-2 {
    display: -webkit-box;
    -webkit-line-clamp: 2;
    -webkit-box-orient: vertical;
    overflow: hidden;
    text-overflow: ellipsis;
  }
  
  .plasmo-line-clamp-3 {
    display: -webkit-box;
    -webkit-line-clamp: 3;
    -webkit-box-orient: vertical;
    overflow: hidden;
    text-overflow: ellipsis;
  }
  
  .plasmo-capitalize-first::first-letter {
    text-transform: uppercase;
  }

  /* Divider utilities */
  .plasmo-divider {
    @apply plasmo-border-b plasmo-border-gray-200 plasmo-my-3;
  }

  .plasmo-divider-vertical {
    @apply plasmo-border-r plasmo-border-gray-200 plasmo-mx-3 plasmo-h-8;
  }

  /* Scrollbar styling */
  .plasmo-scrollbar-thin {
    scrollbar-width: thin;
  }

  .plasmo-scrollbar-thin::-webkit-scrollbar {
    width: 6px;
    height: 6px;
  }

  .plasmo-scrollbar-thin::-webkit-scrollbar-track {
    @apply plasmo-bg-gray-100 plasmo-rounded-full;
  }

  .plasmo-scrollbar-thin::-webkit-scrollbar-thumb {
    @apply plasmo-bg-gray-300 plasmo-rounded-full hover:plasmo-bg-gray-400;
  }
}